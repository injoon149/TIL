## Specification(명세)
- JPA Criteria를 활용해서 이 개념을 사용할 수 있도록 지원한다.
- 사용 방법
- MemberRepository에서 JpaSpecificationExecutor 인터페이스를 상속하고, 그 인터페이스는 specification을 파라미터로
받아서 검색 조건(and, or 등) 으로 사용한다.
- specification 내에서 명세들을 조립할 수 있다.

## Query By Example
- probe : 필드에 데이터가 있는 실제 도메인 객체
- exampleMatcher : 특정 필드를 일치시키는 상세한 정보 제공, 재사용 가능
- example : 쿼리를 생성하는 데 사용
- 장점 : 동적 쿼리를 편리하게 처리, 이식성이 좋음, 도메인 객체를 그대로 사용.
- 단점 : 조인은 가능하지만 내부 조인(inner join)만 가능하고, 외부 조인은 불가하다. 복잡한 매칭 조건이 불가하다.

## projection
- 엔티티 대신에 dto를 편하게 조회할 때 사용한다.
- 조회할 엔티티의 필드를 getter 형식으로 지정하여, 특정 엔티티만 조회하고 싶을 때 사용.
- 장점 : 프로젝션(조회) 대상이 root 엔티티면 유용하지만, 조인이 들어가는 순간 JPQL Select 최적화가 안 된다. => 복잡한 쿼리 처리 불가.

## 애노테이션
- @Repository : 스프링 빈으로 등록, JPA 예외를 스프링 기반 예외로 변환
- @PersistenceContext : 엔티티 매니저 주입

## 패턴
- 도메인 모델 패턴 : 엔티티가 비즈니스 로직을 가지고, 서비스 계층은 단순히 엔티티에 필요한 요청을 위임
- 트랜잭션 스크립트 패턴: 엔티티에는 비즈니스 로직이 거의 없고, 서비스 계층에서 대부분의 비즈니스 로직을 처리한다.

## 변경 감지와 병합
- 준영속 엔티티: 영속성 컨텍스트가 더 이상 관리하지 않는 엔티티
- 준영속 엔티티를 수정하는 2가지 방법: 변경 감지, 병합
- 1. 변경 감지 기능
     - 영속성 컨텍스트에서 같은 엔티티를 다시 조회한 후에 데이터를 수정하는 방법
     - 트랜잭션 커밋 시점에 변경 감지가 발동해서 DB에 update aql 실행
  2. 병합 사용
     - 준영속 상태의 엔티티를 영속 상태로 변경하는 기능이다.
     - 조회한 영속 엔티티에 준영속 엔티티의 값을 채워 넣고, 영속 상태의 엔티티를 반환한다.
- `변경 감지 기능은 원하는 속성만 선택해서 변경이 가능하고, 병합은 모든 속성이 변경된다.`











  
