## S3 이벤트 알림
- IAM 권한이 필요하다.
- 이벤트 알림 타깃: SQS, SNS, 람다 함수 : 그곳레서 리소스 허용 정책을 명시해 주어야 한다.
- EventBridge 활용 가능 : 추가된 버킷에서 모든 이벤트를 EventBridge로 보낸다.

## S3의 기준 성능
1. Multi-part upload : 100MB가 넘는 파일에 대해 적용, 업로드를 병렬화하여 전송 속도를 
높여 대역폭을 최대화할 수 있다.
2. S3 전송 가속화 : 파일을 AWS Edge Location으로 전송해서 전송 속도를 높이고 데이터를 
대상 리전에 있는 S3 버킷으로 전달한다.
3. S3 Byte 범위 가져오기 : 파일에서 특정 바이트 범위를 가져와서 Get 요청을 병렬화한다.
다운로드 속도를 높이거나 파일의 일부만 검색할 때에 사용한다.

## S3 Select & Glacier Select
- S3 파일에서 검색할 때 검색한 후에 필터링하면 너무 많은 데이터를 검색(서버 측 필터링)
- Amazon S3 Select를 이용해서 클라이언트 측의 CPU 비용과 검색 비용을 감소시킨다.

## S3 Batch Operation
- 단일 요청으로 기존 S3 객체에서 대량 작업을 수행하는 서비스.
- 한 번에 많은 S3 객체의 메타데이터와 프로퍼티를 수정할 수 있고, 배치 작업으로 S3 버킷 간에 객체를 복사할 수 있다.
- `S3 버킷 내 암호화되지 않은 모든 객체를 암호화할 수 있다.`
- `S3 Inventory라는 기능을 사용해 객체 목록을 가져오고, S3 Select를 통해 객체를 필터링할 수 있다.`
-  S3 Inventory -> S3 Select -> S3 Batch Operation

## Content Delivery Network(CDN)
- 웹사이트의 콘텐츠를 서로 다른 엣지 로케이션에 미리 캐싱하여 읽기 성능을 높인다.
- 전세계의 사용자들이 낮은 Latency로 접근하게 할 수 있고, 디도스 공격에서 보호할 수 있다.
- S3 버킷, ALB, EC2 인스턴스 등과 조합하여 사용.

## Amazon FSX
- AWS에서 완전 관리형 서비스로, 타사 고성능 파일 시스템을 실행시킨다.
- FSX에서 Lustre, Windows File Server를 실행시킬 수 있다.

## FSX의 파일 시스템 배포 옵션
1. 스크래치 파일 시스템 : 임시 스토리지로 데이터복제X, 기저 서버가 오작동하면 파일이 모두 유실된다. 그러나 성능은 좋음
=> `단기 처리 데이터에 쓰이며 데이터 복제가 없어 비용 최적화 방안에 사용.`
2. 영구 파일 시스템 : 장기 스토리지로 동일한 가용 영역에 데이터가 복제된다. 동일한 AZ 내에서만 복제된다. 
=> `민감한 데이터의 장기 처리 및 스토리지`

## Amazon FSX For NETAPP ONTAP
- 온프레미스 시스템의 ONTAP이나 NAS에서 실행 중인 워크로드를 AWS로 옮길 수 있다.
- 지정 시간 복제 기능 : 새 워크로드 등을 테스트할 때 유용하다.

## Amazon FSX For OpenZFS
- AWS의 관리형 OpenZFS 파일 시스템으로, 여러 버전에서의 NFS 프로토콜과 호환이 가능하다.
- ZFS에서 실행되는 워크로드를 내부적으로 AWS로 옮길 때 사용한다.
- 데이터 중복 제거기능X, 지정 시간 복제기능ㅇ

## AWS Storage Gateway
- 온프레미스 데이터와 클라우드 데이터 간의 다리 역할을 한다.
- ex) 재해 복구 - 백업 : 파일 액세스 시간 줄이기 위해 AWS Storage Gateway를 온프레미스 캐시로 사용.
- 종류는 S3 File Gateway, FSX File, Volume, Tape 등이 있다.
1. `S3 File Gateway`
- S3 파일 게이트웨이로 구성한 모든 버킷은 NFS 및 SMB 프로토콜을 사용하여 액세스할 수 있고,
사용된 데이터는 파일 게이트웨이에 캐시로 저장된다.
- 버킷에 액세스하려면 각 파일 게이트웨이마다 IAM 역할을 생성해야 한다.

2. `Amazon FSX File Gateway`
- 빈번하게 액세스하는 데이터에 대한 로컬 캐시가 가능하다.
- SMB Client과 Amazon FSX For Windows Server 간의 중간 다리 역할을 한다.

3. `볼륨 게이트웨이`
- 블록 스토리지로, Amazon S3가 백업하는 ISCSI 프로토콜을 사용한다.
- 볼륨이 EBS 스냅샷으로 저장되어, 필요에 따라 온프레미스 볼륨 복구 가능.
- 캐시 볼륨 : 최근 데이터 액세스 시 지연시간이 짧다.
- 저장 볼륨 : 전체 데이터 세트가 온프레미스에 있으며 주기적으로 Amazon S3를 백업한다.

4. `Tape Gateway`
- 백업에 물리적 테이프 대신 클라우드를 사용하여 데이터를 백업한다.
- ISCSI 프로토콜을 이용하여 백업한다.

